!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@floating-ui/dom"),require("vue-demi")):"function"==typeof define&&define.amd?define(["exports","@floating-ui/dom","vue-demi"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).FloatingUIVue={},e.FloatingUIDOM,e.VueDemi)}(this,(function(e,t,n){"use strict";function u(e){var t;return null!=(t=null==e?void 0:e.$el)?t:e}function r(e){if("undefined"==typeof window)return 1;return(e.ownerDocument.defaultView||window).devicePixelRatio||1}function o(e,t){const n=r(e);return Math.round(t*n)/n}Object.defineProperty(e,"autoPlacement",{enumerable:!0,get:function(){return t.autoPlacement}}),Object.defineProperty(e,"autoUpdate",{enumerable:!0,get:function(){return t.autoUpdate}}),Object.defineProperty(e,"computePosition",{enumerable:!0,get:function(){return t.computePosition}}),Object.defineProperty(e,"detectOverflow",{enumerable:!0,get:function(){return t.detectOverflow}}),Object.defineProperty(e,"flip",{enumerable:!0,get:function(){return t.flip}}),Object.defineProperty(e,"getOverflowAncestors",{enumerable:!0,get:function(){return t.getOverflowAncestors}}),Object.defineProperty(e,"hide",{enumerable:!0,get:function(){return t.hide}}),Object.defineProperty(e,"inline",{enumerable:!0,get:function(){return t.inline}}),Object.defineProperty(e,"limitShift",{enumerable:!0,get:function(){return t.limitShift}}),Object.defineProperty(e,"offset",{enumerable:!0,get:function(){return t.offset}}),Object.defineProperty(e,"platform",{enumerable:!0,get:function(){return t.platform}}),Object.defineProperty(e,"shift",{enumerable:!0,get:function(){return t.shift}}),Object.defineProperty(e,"size",{enumerable:!0,get:function(){return t.size}}),e.arrow=function(e){return{name:"arrow",options:e,fn(r){const o=u(n.unref(e.element));return null==o?{}:t.arrow({element:o,padding:e.padding}).fn(r)}}},e.useFloating=function(e,l,a){void 0===a&&(a={});const i=a.whileElementsMounted,f=n.computed((()=>{var e;return null==(e=n.unref(a.open))||e})),c=n.computed((()=>n.unref(a.middleware))),d=n.computed((()=>{var e;return null!=(e=n.unref(a.placement))?e:"bottom"})),p=n.computed((()=>{var e;return null!=(e=n.unref(a.strategy))?e:"absolute"})),s=n.computed((()=>{var e;return null==(e=n.unref(a.transform))||e})),m=n.computed((()=>u(e.value))),v=n.computed((()=>u(l.value))),y=n.ref(0),b=n.ref(0),g=n.ref(p.value),w=n.ref(d.value),h=n.shallowRef({}),P=n.ref(!1),O=n.computed((()=>{const e={position:g.value,left:"0",top:"0"};if(!v.value)return e;const t=o(v.value,y.value),n=o(v.value,b.value);return s.value?{...e,transform:"translate("+t+"px, "+n+"px)",...r(v.value)>=1.5&&{willChange:"transform"}}:{position:g.value,left:t+"px",top:n+"px"}}));let j;function x(){null!=m.value&&null!=v.value&&t.computePosition(m.value,v.value,{middleware:c.value,placement:d.value,strategy:p.value}).then((e=>{y.value=e.x,b.value=e.y,g.value=e.strategy,w.value=e.placement,h.value=e.middlewareData,P.value=!0}))}function R(){"function"==typeof j&&(j(),j=void 0)}return n.watch([c,d,p],x,{flush:"sync"}),n.watch([m,v],(function(){R(),void 0!==i?null==m.value||null==v.value||(j=i(m.value,v.value,x)):x()}),{flush:"sync"}),n.watch(f,(function(){f.value||(P.value=!1)}),{flush:"sync"}),n.getCurrentScope()&&n.onScopeDispose(R),{x:n.shallowReadonly(y),y:n.shallowReadonly(b),strategy:n.shallowReadonly(g),placement:n.shallowReadonly(w),middlewareData:n.shallowReadonly(h),isPositioned:n.shallowReadonly(P),floatingStyles:O,update:x}}}));
