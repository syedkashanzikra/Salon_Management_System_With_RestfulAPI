import{arrow as e,computePosition as t}from"@floating-ui/dom";export{autoPlacement,autoUpdate,computePosition,detectOverflow,flip,getOverflowAncestors,hide,inline,limitShift,offset,platform,shift,size}from"@floating-ui/dom";import{unref as n,computed as l,ref as u,shallowRef as a,watch as o,getCurrentScope as r,onScopeDispose as i,shallowReadonly as v}from"vue-demi";function f(e){var t;return null!=(t=null==e?void 0:e.$el)?t:e}function s(t){return{name:"arrow",options:t,fn(l){const u=f(n(t.element));return null==u?{}:e({element:u,padding:t.padding}).fn(l)}}}function d(e){if("undefined"==typeof window)return 1;return(e.ownerDocument.defaultView||window).devicePixelRatio||1}function m(e,t){const n=d(e);return Math.round(t*n)/n}function c(e,s,c){void 0===c&&(c={});const p=c.whileElementsMounted,w=l((()=>{var e;return null==(e=n(c.open))||e})),y=l((()=>n(c.middleware))),g=l((()=>{var e;return null!=(e=n(c.placement))?e:"bottom"})),h=l((()=>{var e;return null!=(e=n(c.strategy))?e:"absolute"})),x=l((()=>{var e;return null==(e=n(c.transform))||e})),P=l((()=>f(e.value))),D=l((()=>f(s.value))),b=u(0),M=u(0),O=u(h.value),S=u(g.value),z=a({}),A=u(!1),C=l((()=>{const e={position:O.value,left:"0",top:"0"};if(!D.value)return e;const t=m(D.value,b.value),n=m(D.value,M.value);return x.value?{...e,transform:"translate("+t+"px, "+n+"px)",...d(D.value)>=1.5&&{willChange:"transform"}}:{position:O.value,left:t+"px",top:n+"px"}}));let E;function R(){null!=P.value&&null!=D.value&&t(P.value,D.value,{middleware:y.value,placement:g.value,strategy:h.value}).then((e=>{b.value=e.x,M.value=e.y,O.value=e.strategy,S.value=e.placement,z.value=e.middlewareData,A.value=!0}))}function U(){"function"==typeof E&&(E(),E=void 0)}return o([y,g,h],R,{flush:"sync"}),o([P,D],(function(){U(),void 0!==p?null==P.value||null==D.value||(E=p(P.value,D.value,R)):R()}),{flush:"sync"}),o(w,(function(){w.value||(A.value=!1)}),{flush:"sync"}),r()&&i(U),{x:v(b),y:v(M),strategy:v(O),placement:v(S),middlewareData:v(z),isPositioned:v(A),floatingStyles:C,update:R}}export{s as arrow,c as useFloating};
