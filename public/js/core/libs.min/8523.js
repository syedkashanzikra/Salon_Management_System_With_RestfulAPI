"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8523],{3620:(e,t,n)=>{n.d(t,{Z:()=>r});var a=n(8253),s={class:"offcanvas-header border-bottom"},l={class:"offcanvas-title",id:"form-offcanvasLabel"},o={key:0},i={key:1},u=(0,a._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close"},null,-1);const r={__name:"FormHeader",props:{currentId:{type:Number,default:0},editTitle:{type:String,default:""},createTitle:{type:String,default:""}},setup:function(e){return function(t,n){return(0,a.wg)(),(0,a.iD)("div",s,[(0,a._)("h5",l,[0!=e.currentId?((0,a.wg)(),(0,a.iD)("span",o,(0,a.zw)(e.editTitle),1)):((0,a.wg)(),(0,a.iD)("span",i,(0,a.zw)(e.createTitle),1))]),u])}}}},3279:(e,t,n)=>{n.d(t,{s:()=>o});var a=n(8253),s={class:"offcanvas-footer border-top"},l=[(0,a.uE)('<div class="d-grid d-md-flex gap-3 p-3"><button class="btn btn-primary d-block"><i class="fa-solid fa-floppy-disk"></i> Save </button><button class="btn btn-outline-primary d-block" type="button" data-bs-dismiss="offcanvas"><i class="fa-solid fa-angles-left"></i> Close </button></div>',1)];function o(e,t){return(0,a.wg)(),(0,a.iD)("div",s,l)}},8523:(e,t,n)=>{n.r(t),n.d(t,{default:()=>P});var a=n(8253),s=n(5100),l="commissions",o=function(){return{path:"".concat(l,"/index_data"),method:"GET"}},i=function(e){return{path:"".concat(l,"/").concat(e,"/edit"),method:"GET"}},u=function(){return{path:"".concat(l),method:"POST"}},r=function(e){return{path:"".concat(l,"/").concat(e),method:"PUT"}},c=function(e){return{path:"".concat(l,"/").concat(e),method:"DELETE"}},d=n(9259),m=n(2954),f=n(6310),v=n(3161),b=n(3731),p=n(9165),_={class:"offcanvas offcanvas-end",tabindex:"-1",id:"form-offcanvas","aria-labelledby":"form-offcanvasLabel"},g={class:"offcanvas-body"},y={class:"row"},h={class:"col-12"},w={class:"form-group"},S=(0,a._)("label",{class:"form-label",for:"commission_type"},[(0,a.Uk)("Commission Type"),(0,a._)("span",{class:"text-danger"},"*")],-1),k={key:0},C={class:"text-danger"},T={class:"text-danger"};const U={__name:"CommissionForm",props:{id:{type:Number,default:0}},emits:["onSubmit"],setup:function(e,t){var n=t.emit,s=e,l=(0,d.QT)(),o=l.getRequest,c=l.storeRequest,U=l.updateRequest,D=(0,a.iH)(s.id);(0,a.YP)((function(){return s.id}),(function(e){D.value=e,e>0?o({url:i,id:e}).then((function(e){e.status&&e.data&&V(e.data)})):V(q())}));(0,a.iH)({searchable:!0,options:[],closeOnSelect:!0});var Z=(0,a.iH)({searchable:!0,options:[{label:"Percentage",value:"Percentage"},{label:"Fixed",value:"Fixed"}],closeOnSelect:!0}),q=function(){return $.value={},{title:"",commission_value:"",commission_type:""}},V=function(e){I({values:{title:e.title,commission_value:e.commission_value,commission_type:e.commission_type}})},x=function(e){e.status?(window.successSnackbar(e.message),bootstrap.Offcanvas.getInstance("#form-offcanvas").hide(),V(q())):(window.errorSnackbar(e.message),$.value=e.all_message),n("onSubmit")},H=/^\d+$/,z=f.Ry({title:f.Z_().required().test("is-string","Only strings are allowed",(function(e){return!H.test(e)})),commission_value:f.Z_().required().matches(/^\d+$/,"Only numbers are allowed"),commission_type:f.Z_().required()}),E=(0,m.cI)({validationSchema:z}),O=E.handleSubmit,W=E.errors,I=E.resetForm,P=(0,m.U$)("title").value,R=(0,m.U$)("commission_value").value,F=(0,m.U$)("commission_type").value,$=(0,a.iH)({}),A=O((function(e){D.value>0?U({url:r,id:D.value,body:e}).then((function(e){return x(e)})):c({url:u,body:e}).then((function(e){return x(e)}))}));return function(e,t){var n=(0,a.up)("Multiselect");return(0,a.wg)(),(0,a.iD)("form",{onSubmit:t[3]||(t[3]=function(){return(0,a.SU)(A)&&(0,a.SU)(A).apply(void 0,arguments)})},[(0,a._)("div",_,[(0,a.Wm)(b.Z,{currentId:D.value,editTitle:"Edit Commission Data",createTitle:"Add Commission"},null,8,["currentId"]),(0,a._)("div",g,[(0,a._)("div",y,[(0,a._)("div",h,[(0,a.Wm)(v.Z,{class:"col-md-12","is-required":!0,label:"Title",placeholder:"",modelValue:(0,a.SU)(P),"onUpdate:modelValue":t[0]||(t[0]=function(e){return(0,a.dq)(P)?P.value=e:null}),"error-message":(0,a.SU)(W).title,"error-messages":$.value.title},null,8,["modelValue","error-message","error-messages"]),(0,a.Wm)(v.Z,{type:"number",class:"col-md-12","is-required":!0,label:"Commission Value",placeholder:"",modelValue:(0,a.SU)(R),"onUpdate:modelValue":t[1]||(t[1]=function(e){return(0,a.dq)(R)?R.value=e:null}),"error-message":(0,a.SU)(W).commission_value,"error-messages":$.value.commission_value},null,8,["modelValue","error-message","error-messages"]),(0,a._)("div",w,[S,(0,a.Wm)(n,(0,a.dG)({modelValue:(0,a.SU)(F),"onUpdate:modelValue":t[2]||(t[2]=function(e){return(0,a.dq)(F)?F.value=e:null}),value:(0,a.SU)(F)},Z.value,{id:"commission_type",autocomplete:"off"}),null,16,["modelValue","value"]),$.value.commission_type?((0,a.wg)(),(0,a.iD)("span",k,[(0,a._)("ul",C,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)($.value.commission_type,(function(e){return(0,a.wg)(),(0,a.iD)("li",{key:e},(0,a.zw)(e),1)})),128))])])):(0,a.kq)("",!0),(0,a._)("span",T,(0,a.zw)((0,a.SU)(W).commission_type),1)])])])]),(0,a.Wm)(p.Z)])],32)}}};var D=n(7963),Z=(0,a._)("i",{class:"fas fa-plus-circle me-2"},null,-1),q={class:"table table-condensed table-responsive"},V=(0,a._)("thead",null,[(0,a._)("tr",null,[(0,a._)("th",null,"Sr.No"),(0,a._)("th",null,"Title"),(0,a._)("th",null,"Commission Value"),(0,a._)("th",null,"Commission Type"),(0,a._)("th",null,"Action")])],-1),x={key:0},H=["onClick"],z=[(0,a._)("i",{class:"fa-solid fa-pen-clip"},null,-1)],E=["onClick"],O=[(0,a._)("i",{class:"fa-solid fa-trash"},null,-1)],W={key:1,class:"text-center"},I=[(0,a._)("td",{colspan:"9",class:"py-3"},"Data is not available in this Table",-1)];const P={__name:"CommissionPage",setup:function(e){var t=(0,a.iH)(null),n=function(e){t.value=e};(0,a.bv)((function(){m()}));var l=(0,d.QT)(),i=l.getRequest,u=l.deleteRequest,r=(0,a.iH)(null),m=function(){i({url:o}).then((function(e){e.status&&(r.value=e.data)}))};return function(e,l){return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(s.Z,{title:"Commission",icon:"fa-solid fa-bars"},{default:(0,a.w5)((function(){return[(0,a._)("button",{class:"btn btn-primary","data-bs-toggle":"offcanvas","data-bs-target":"#form-offcanvas","aria-controls":"form-offcanvas",onClick:l[0]||(l[0]=function(e){return n(0)})},[Z,(0,a.Uk)(" Add Commission")])]})),_:1}),(0,a.Wm)(U,{id:t.value,onOnSubmit:l[1]||(l[1]=function(e){return m()})},null,8,["id"]),(0,a._)("div",null,[(0,a._)("table",q,[V,null!==r.value&&0!==r.value.length?((0,a.wg)(),(0,a.iD)("tbody",x,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.value,(function(e,t){return(0,a.wg)(),(0,a.iD)("tr",{key:t},[(0,a._)("th",null,(0,a.zw)(t+1),1),(0,a._)("th",null,(0,a.zw)(e.title),1),(0,a._)("th",null,(0,a.zw)(e.commission_value),1),(0,a._)("th",null,(0,a.zw)(e.commission_type),1),(0,a._)("th",null,[(0,a._)("button",{type:"button",class:"btn btn-soft-primary btn-sm","data-bs-toggle":"offcanvas","data-bs-target":"#form-offcanvas",onClick:function(t){return n(e.id)},"aria-controls":"form-offcanvas"},z,8,H),(0,a._)("button",{type:"button",class:"btn btn-soft-danger btn-sm",onClick:function(t){return n=e.id,a="Are you sure?",void(0,D._1)({title:a}).then((function(e){e.isConfirmed&&u({url:c,id:n}).then((function(e){e.status&&(Swal.fire({title:"Deleted",text:e.message,icon:"success"}),m())}))}));var n,a},"data-bs-toggle":"tooltip"},O,8,E)])])})),128))])):((0,a.wg)(),(0,a.iD)("tr",W,I))])])],64)}}}},9165:(e,t,n)=>{n.d(t,{Z:()=>l});var a=n(1040);const s={},l=(0,n(3744).Z)(s,[["render",a.s]])},3731:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n(211).Z},211:(e,t,n)=>{n.d(t,{Z:()=>a.Z});var a=n(3620)},1040:(e,t,n)=>{n.d(t,{s:()=>a.s});var a=n(3279)}}]);
//# sourceMappingURL=8523.js.map