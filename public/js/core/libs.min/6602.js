"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6602],{6602:(e,l,a)=>{a.r(l),a.d(l,{default:()=>b});var r=a(8253),i=a(5100),o=a(3161),s=a(2954),n=a(8988),m=a(6310),u=a(9259),t=a(7963),d={class:"row row-cols-2"},_=["disabled"],c=(0,r._)("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},null,-1),p=(0,r._)("i",{class:"fa-solid fa-floppy-disk"},null,-1);const g={__name:"MailPage",setup:function(e){var l=(0,u.QT)().storeRequest,a=(0,r.iH)(!1),g=/^\d+$/,b=m.Ry({email:m.Z_({required_error:"Email is required"}).test("is-string","First strings are allowed",(function(e){return!g.test(e)})).email({message:"Must be a valid email"}),mail_driver:m.Z_({required_error:"mail driver is required"}),mail_host:m.Z_({required_error:"mail host is required"}),mail_port:m.Z_({required_error:"mail port is required"}),mail_encryption:m.Z_({required_error:"mail encryption is required"}),mail_username:m.Z_({required_error:"mail username is required"}).test("is-string","First strings are allowed",(function(e){return!g.test(e)})).email({message:"Must be a valid email"}),Password:m.Z_({required_error:"Password is required"}),mail_from:m.Z_({required_error:"mail from is required"}).test("is-string","First strings are allowed",(function(e){return!g.test(e)})).email({message:"Must be a valid email"}),from_name:m.Z_({required_error:"from name is required"})}),f=(0,s.cI)({validationSchema:b}),v=f.handleSubmit,U=f.errors,q=f.resetForm,S=(0,s.U$)("email").value,V=(0,s.U$)("mail_driver").value,h=(0,s.U$)("mail_host").value,M=(0,s.U$)("mail_port").value,w=(0,s.U$)("mail_encryption").value,Z=(0,s.U$)("mail_username").value,$=(0,s.U$)("Password").value,y=(0,s.U$)("mail_from").value,k=(0,s.U$)("from_name").value;(0,r.bv)((function(){(0,t.hG)((0,n.Mt)("email,mail_driver,mail_host,mail_port,mail_encryption,mail_username,mail_from,from_name")).then((function(e){!function(e){q({values:{email:e.email,mail_driver:e.mail_driver,mail_host:e.mail_host,mail_port:e.mail_port,mail_encryption:e.mail_encryption,mail_username:e.mail_username,Password:e.Password,mail_from:e.mail_from,from_name:e.from_name}})}(e)}))}));var W=v((function(e){a.value=!0,l({url:n.kG,body:e}).then((function(e){return function(e){a.value=!1,e.status?window.successSnackbar(e.message):window.errorSnackbar(e.message)}(e)}))}));return function(e,l){return(0,r.wg)(),(0,r.iD)("form",{onSubmit:l[9]||(l[9]=function(){return(0,r.SU)(W)&&(0,r.SU)(W).apply(void 0,arguments)})},[(0,r.Wm)(i.Z,{title:"Mail Settings",icon:"fas fa-envelope"}),(0,r._)("div",d,[(0,r.Wm)(o.Z,{class:"col",label:e.$t("setting_mail_page.lbl_email"),placeholder:"info@example.com",modelValue:(0,r.SU)(S),"onUpdate:modelValue":l[0]||(l[0]=function(e){return(0,r.dq)(S)?S.value=e:null}),errorMessage:(0,r.SU)(U).email},null,8,["label","modelValue","errorMessage"]),(0,r.Wm)(o.Z,{class:"col",label:e.$t("setting_mail_page.lbl_driver"),placeholder:"smtp",modelValue:(0,r.SU)(V),"onUpdate:modelValue":l[1]||(l[1]=function(e){return(0,r.dq)(V)?V.value=e:null}),errorMessage:(0,r.SU)(U).mail_driver},null,8,["label","modelValue","errorMessage"]),(0,r.Wm)(o.Z,{class:"col",label:e.$t("setting_mail_page.lbl_host"),placeholder:"smtp.gmail.com",modelValue:(0,r.SU)(h),"onUpdate:modelValue":l[2]||(l[2]=function(e){return(0,r.dq)(h)?h.value=e:null}),errorMessage:(0,r.SU)(U).mail_host},null,8,["label","modelValue","errorMessage"]),(0,r.Wm)(o.Z,{class:"col",label:e.$t("setting_mail_page.lbl_port"),placeholder:"587",modelValue:(0,r.SU)(M),"onUpdate:modelValue":l[3]||(l[3]=function(e){return(0,r.dq)(M)?M.value=e:null}),errorMessage:(0,r.SU)(U).mail_port},null,8,["label","modelValue","errorMessage"]),(0,r.Wm)(o.Z,{class:"col",label:e.$t("setting_mail_page.lbl_encryption"),placeholder:"tls",modelValue:(0,r.SU)(w),"onUpdate:modelValue":l[4]||(l[4]=function(e){return(0,r.dq)(w)?w.value=e:null}),errorMessage:(0,r.SU)(U).mail_encryption},null,8,["label","modelValue","errorMessage"]),(0,r.Wm)(o.Z,{class:"col",label:e.$t("setting_mail_page.lbl_username"),placeholder:"youremail@gmail.com",modelValue:(0,r.SU)(Z),"onUpdate:modelValue":l[5]||(l[5]=function(e){return(0,r.dq)(Z)?Z.value=e:null}),errorMessage:(0,r.SU)(U).mail_username},null,8,["label","modelValue","errorMessage"]),(0,r.Wm)(o.Z,{class:"col",label:e.$t("setting_mail_page.lbl_password"),type:"password",placeholder:"Password",modelValue:(0,r.SU)($),"onUpdate:modelValue":l[6]||(l[6]=function(e){return(0,r.dq)($)?$.value=e:null}),errorMessage:(0,r.SU)(U).Password},null,8,["label","modelValue","errorMessage"]),(0,r.Wm)(o.Z,{class:"col",label:e.$t("setting_mail_page.lbl_mail"),placeholder:"youremail@gmail.com",modelValue:(0,r.SU)(y),"onUpdate:modelValue":l[7]||(l[7]=function(e){return(0,r.dq)(y)?y.value=e:null}),errorMessage:(0,r.SU)(U).mail_from},null,8,["label","modelValue","errorMessage"]),(0,r.Wm)(o.Z,{class:"col",label:e.$t("setting_mail_page.lbl_from_name"),placeholder:"Dev.Community",modelValue:(0,r.SU)(k),"onUpdate:modelValue":l[8]||(l[8]=function(e){return(0,r.dq)(k)?k.value=e:null}),errorMessage:(0,r.SU)(U).from_name},null,8,["label","modelValue","errorMessage"])]),(0,r._)("div",null,[(0,r._)("button",{disabled:a.value,class:"btn btn-success",name:"submit"},[a.value?((0,r.wg)(),(0,r.iD)(r.HY,{key:0},[c,(0,r.Uk)(" Loading... ")],64)):((0,r.wg)(),(0,r.iD)(r.HY,{key:1},[p,(0,r.Uk)(" Submit")],64))],8,_)])],32)}}},b=g}}]);
//# sourceMappingURL=6602.js.map