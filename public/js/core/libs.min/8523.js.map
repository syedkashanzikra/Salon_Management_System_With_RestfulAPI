{"version":3,"file":"js/core/libs.min/8523.js","mappings":"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","sources":["webpack:///./resources/js/vue/components/form-elements/FormFooter.vue","webpack:///./resources/js/vue/constants/commission.js","webpack:///./resources/js/Setting/SectionPages/Forms/CommissionForm.vue?b9ea","webpack:///./resources/js/Setting/SectionPages/Forms/CommissionForm.vue","webpack:///./resources/js/Setting/SectionPages/CommissionPage.vue?391e","webpack:///./resources/js/Setting/SectionPages/CommissionPage.vue","webpack:///./resources/js/vue/components/form-elements/FormFooter.vue?3a8f","webpack:///./resources/js/vue/components/form-elements/FormHeader.vue"],"sourcesContent":["<template>\n  <div class=\"offcanvas-footer border-top\">\n    <div class=\"d-grid d-md-flex gap-3 p-3\">\n      <button class=\"btn btn-primary d-block\">\n        <i class=\"fa-solid fa-floppy-disk\"></i>\n        Save\n      </button>\n      <button class=\"btn btn-outline-primary d-block\" type=\"button\" data-bs-dismiss=\"offcanvas\">\n        <i class=\"fa-solid fa-angles-left\"></i>\n        Close\n      </button>\n    </div>\n  </div>\n</template>\n","export const MODULE = 'commissions'\nexport const LISTING_URL = () => {return {path: `${MODULE}/index_data`, method: 'GET'}}\nexport const DATATABLE_URL = () => {return {path: `${MODULE}/index_list`, method: 'GET'}}\nexport const EDIT_URL = (id) => {return {path: `${MODULE}/${id}/edit`, method: 'GET'}}\nexport const STORE_URL = () => {return {path: `${MODULE}`, method: 'POST'}}\nexport const UPDATE_URL = (id) => {return {path: `${MODULE}/${id}`, method: 'PUT'}}\nexport const DELETE_URL = (id) => {return {path: `${MODULE}/${id}`, method: 'DELETE'}}","import script from \"./CommissionForm.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./CommissionForm.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n  <form @submit=\"formSubmit\">\n    <div class=\"offcanvas offcanvas-end\" tabindex=\"-1\" id=\"form-offcanvas\" aria-labelledby=\"form-offcanvasLabel\">\n      <FormHeader :currentId=\"currentId\" editTitle=\"Edit Commission Data\" createTitle=\"Add Commission\"></FormHeader>\n      <div class=\"offcanvas-body\">\n        <div class=\"row\">\n          <div class=\"col-12\">\n              <InputField class=\"col-md-12\" :is-required=\"true\" label=\"Title\" placeholder=\"\" v-model=\"title\" :error-message=\"errors.title\" :error-messages=\"errorMessages['title']\"></InputField>\n              <InputField type=\"number\" class=\"col-md-12\" :is-required=\"true\" label=\"Commission Value\" placeholder=\"\" v-model=\"commission_value\" :error-message=\"errors.commission_value\" :error-messages=\"errorMessages['commission_value']\"></InputField>\n            <div class=\"form-group\">\n              <label class=\"form-label\" for=\"commission_type\">Commission Type<span class=\"text-danger\">*</span></label>\n              <Multiselect v-model=\"commission_type\" :value=\"commission_type\" v-bind=\"type_commission\" id=\"commission_type\" autocomplete=\"off\"></Multiselect>\n              <span v-if=\"errorMessages['commission_type']\">\n                <ul class=\"text-danger\">\n                  <li v-for=\"err in errorMessages['commission_type']\" :key=\"err\">{{ err }}</li>\n                </ul>\n              </span>\n              <span class=\"text-danger\">{{ errors.commission_type }}</span>\n            </div>\n          </div>\n        </div>\n      </div>\n      <FormFooter></FormFooter>\n    </div>\n  </form>\n</template>\n<script setup>\nimport { ref, onMounted, watch } from 'vue'\nimport { DATATABLE_URL, EDIT_URL, STORE_URL, UPDATE_URL } from '@/vue/constants/commission'\nimport { useField, useForm } from 'vee-validate'\nimport { useRequest } from '@/helpers/hooks/useCrudOpration'\nimport * as yup from 'yup'\nimport InputField from '@/vue/components/form-elements/InputField.vue'\nimport FormHeader from '@/vue/components/form-elements/FormHeader.vue'\nimport FormFooter from '@/vue/components/form-elements/FormFooter.vue'\n\nconst emit = defineEmits(['onSubmit'])\n\n// props\nconst props = defineProps({\n  id: { type: Number, default: 0 }\n})\n\nconst { getRequest, storeRequest, updateRequest } = useRequest()\n\nconst currentId = ref(props.id)\n// Edit Form Or Create Form\nwatch(\n  () => props.id,\n  (value) => {\n    currentId.value = value\n    if (value > 0) {\n      getRequest({ url: EDIT_URL, id: value }).then((res) => {\n        if (res.status && res.data) {\n          setFormData(res.data)\n        }\n      })\n    } else {\n      setFormData(defaultData())\n    }\n  }\n)\nconst Title_data = ref({\n  searchable: true,\n  options: [],\n  closeOnSelect: true\n})\n\nconst type_commission = ref({\n  searchable: true,\n  options: [\n    // { label: 'Weekly', value: 'Weekly'},\n    { label: 'Percentage', value: 'Percentage' },\n    { label: 'Fixed', value: 'Fixed' }\n  ],\n  closeOnSelect: true\n})\n\n/*\n * Form Data & Validation & Handeling\n */\n// Default FORM DATA\nconst defaultData = () => {\n  errorMessages.value = {}\n  return {\n    title: '',\n    commission_value: '',\n    commission_type: ''\n  }\n}\n\n//  Reset Form\nconst setFormData = (data) => {\n  resetForm({\n    values: {\n      title: data.title,\n      commission_value: data.commission_value,\n      commission_type: data.commission_type\n    }\n  })\n}\n\n// Reload Datatable, SnackBar Message, Alert, Offcanvas Close\nconst reset_datatable_close_offcanvas = (res) => {\n  if (res.status) {\n    window.successSnackbar(res.message)\n    // renderedDataTable.ajax.reload(null, false)\n    bootstrap.Offcanvas.getInstance('#form-offcanvas').hide()\n    setFormData(defaultData())\n  } else {\n    window.errorSnackbar(res.message)\n    errorMessages.value = res.all_message\n  }\n  emit('onSubmit')\n}\n\nconst numberRegex = /^\\d+$/;\n// Validations\nconst validationSchema = yup.object({\n  title: yup.string()\n    .required()\n    .test('is-string', 'Only strings are allowed', (value) => !numberRegex.test(value)),\n  commission_value: yup.string()\n    .required()\n    .matches(/^\\d+$/, 'Only numbers are allowed'),\n  commission_type: yup.string().required()\n})\n\n\nconst { handleSubmit, errors, resetForm } = useForm({\n  validationSchema\n})\nconst { value: title } = useField('title')\nconst { value: commission_value } = useField('commission_value')\nconst { value: commission_type } = useField('commission_type')\n\nconst errorMessages = ref({})\n\n// Form Submit\nconst formSubmit = handleSubmit((values) => {\n  if (currentId.value > 0) {\n    updateRequest({ url: UPDATE_URL, id: currentId.value, body: values }).then((res) => reset_datatable_close_offcanvas(res))\n  } else {\n    storeRequest({ url: STORE_URL, body: values }).then((res) => reset_datatable_close_offcanvas(res))\n  }\n})\n</script>\n","import script from \"./CommissionPage.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./CommissionPage.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n\n  <CardTitle title=\"Commission\" icon=\"fa-solid fa-bars\">\n    <button class=\"btn btn-primary\" data-bs-toggle=\"offcanvas\" data-bs-target=\"#form-offcanvas\"   aria-controls=\"form-offcanvas\" @click=\"changeId(0)\"><i class=\"fas fa-plus-circle me-2\"></i> Add Commission</button>\n  </CardTitle>\n  <CommissionForm :id=\"tableId\" @onSubmit=\"fetchTableData()\"></CommissionForm>\n  <div>\n\n  <table class=\"table table-condensed table-responsive\" >\n  <thead>\n      <tr>\n        <th>Sr.No</th>\n        <th>Title</th>\n        <th>Commission Value</th>\n        <th>Commission Type</th>\n        <th>Action</th>\n      </tr>\n    </thead>\n    <template v-if=\"tableList !== null && tableList.length !== 0\">\n    <tbody>\n      <tr v-for=\"(item, index) in tableList\"  :key=\"index\" >\n        <th>{{index+1}}</th>\n        <th>{{item.title}}</th>\n        <th>{{item.commission_value}}</th>\n        <th>{{item.commission_type}}</th>\n        <th>\n          <button type=\"button\" class=\"btn btn-soft-primary btn-sm\" data-bs-toggle=\"offcanvas\" data-bs-target=\"#form-offcanvas\"    @click=\"changeId(item.id)\"  aria-controls=\"form-offcanvas\" ><i class=\"fa-solid fa-pen-clip\"></i></button>\n          <!-- <button class=\"btn btn-primary\" data-bs-toggle=\"offcanvas\" data-bs-target=\"#form-offcanvas\"   @click=\"changeId(dataValue.id)\" title=\"{{ __('Create Custom Field ') }}\" aria-controls=\"form-offcanvas\" ><i class=\"fas fa-plus-circle me-2\"></i> Add new Field</button> -->\n          <button type=\"button\" class=\"btn btn-soft-danger btn-sm\" @click=\"destroyData(item.id, 'Are you sure?')\"  data-bs-toggle=\"tooltip\"> <i class=\"fa-solid fa-trash\"></i></button>\n        </th>\n    \n      </tr>\n    </tbody>\n    </template>\n    <template v-else>\n        <!-- Render message when tableList is null or empty -->\n        <tr class=\"text-center\">\n          <td colspan=\"9\" class=\"py-3\">Data is not available in this Table</td>\n        </tr>\n      </template>\n  </table>\n  </div>\n \n\n  </template>\n\n  <script setup>\n  import { ref, onMounted } from 'vue'\n  import CardTitle from '@/Setting/Components/CardTitle.vue'\n  import { LISTING_URL, DELETE_URL } from '@/vue/constants/commission'\n  import { useRequest } from '@/helpers/hooks/useCrudOpration'\n  import CommissionForm from './Forms/CommissionForm.vue'\n  import {confirmSwal} from '@/helpers/utilities'\n\n  const tableId = ref(null)\n  const changeId = (id) => {\n    tableId.value = id\n  }\n\n  onMounted(() => {\n      fetchTableData() \n    })\n\n  // Request\n  const { getRequest, deleteRequest} = useRequest()\n\n  // Define variables\n  const tableList = ref(null)\n\n  const fetchTableData = () => {\n    getRequest({ url: LISTING_URL}).then((res) => {\n       if(res.status) {\n        tableList.value = res.data\n         }\n      })\n    }\n\n    const destroyData = (id, message) => {\n      confirmSwal({title: message}).then((result) => {\n        if(!result.isConfirmed) return\n        deleteRequest({url: DELETE_URL, id}).then((res) => {\n          if(res.status) {\n            Swal.fire({\n              title: 'Deleted',\n              text: res.message,\n              icon: \"success\"\n            })\n            fetchTableData()\n          }\n        })\n      })\n    }\n    \n  </script>\n","import { render } from \"./FormFooter.vue?vue&type=template&id=505dbe43\"\nconst script = {}\n\nimport exportComponent from \"/var/www/html/frezka/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import script from \"./FormHeader.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./FormHeader.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["class","_createElementBlock","_hoisted_1","_hoisted_3","MODULE","LISTING_URL","path","concat","method","EDIT_URL","id","STORE_URL","UPDATE_URL","DELETE_URL","_useRequest","useRequest","getRequest","storeRequest","updateRequest","currentId","ref","props","watch","value","url","then","res","status","data","setFormData","defaultData","searchable","options","closeOnSelect","type_commission","label","errorMessages","title","commission_value","commission_type","resetForm","values","reset_datatable_close_offcanvas","window","successSnackbar","message","bootstrap","Offcanvas","getInstance","hide","errorSnackbar","all_message","emit","numberRegex","validationSchema","yup","required","test","matches","_useForm","useForm","handleSubmit","errors","useField","formSubmit","body","tableId","changeId","onMounted","fetchTableData","deleteRequest","tableList","confirmSwal","result","isConfirmed","Swal","fire","text","icon","script"],"sourceRoot":""}